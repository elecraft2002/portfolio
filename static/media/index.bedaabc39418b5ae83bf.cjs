"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const React=require("react");function _interopNamespace(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const r in e)if("default"!==r){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}return t.default=e,Object.freeze(t)}const React__namespace=_interopNamespace(React);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));function traverseFiber(e,t,r){if(!e)return;if(!0===r(e))return e;let n=t?e.return:e.child;for(;n;){const e=traverseFiber(n,t,r);if(e)return e;n=n.sibling}}function wrapContext(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(t){return e}}const FiberContext=wrapContext(React__namespace.createContext(null));class FiberProvider extends React__namespace.Component{render(){return React__namespace.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ReactCurrentOwner,ReactCurrentDispatcher:ReactCurrentDispatcher}=React__namespace.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const e=React__namespace.useContext(FiberContext);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=React__namespace.useId();return React__namespace.useMemo((()=>{var r;return null!=(r=ReactCurrentOwner.current)?r:traverseFiber(e,!1,(e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}}))}),[e,t])}function useContainer(){const e=useFiber(),t=React__namespace.useMemo((()=>traverseFiber(e,!0,(e=>{var t;return null!=(null==(t=e.stateNode)?void 0:t.containerInfo)}))),[e]);return null==t?void 0:t.stateNode.containerInfo}function useNearestChild(e){const t=useFiber(),r=React__namespace.useRef();return React__namespace.useLayoutEffect((()=>{var n;r.current=null==(n=traverseFiber(t,!1,(t=>"string"===typeof t.type&&(void 0===e||t.type===e))))?void 0:n.stateNode}),[t]),r}function useNearestParent(e){const t=useFiber(),r=React__namespace.useRef();return React__namespace.useLayoutEffect((()=>{var n;r.current=null==(n=traverseFiber(t,!0,(t=>"string"===typeof t.type&&(void 0===e||t.type===e))))?void 0:n.stateNode}),[t]),r}const contexts=[],values=new WeakMap;function useContextBridge(){var e;const t=useFiber();contexts.splice(0,contexts.length),traverseFiber(t,!0,(e=>{var t;const r=null==(t=e.type)?void 0:t._context;r&&r!==FiberContext&&contexts.push(wrapContext(r))}));for(const r of contexts){const t=null==(e=ReactCurrentDispatcher.current)?void 0:e.readContext(r);values.set(r,t)}return React__namespace.useMemo((()=>contexts.reduce(((e,t)=>r=>React__namespace.createElement(e,null,React__namespace.createElement(t.Provider,__spreadProps(__spreadValues({},r),{value:values.get(t)})))),(e=>React__namespace.createElement(FiberProvider,__spreadValues({},e))))),[])}exports.FiberProvider=FiberProvider,exports.traverseFiber=traverseFiber,exports.useContainer=useContainer,exports.useContextBridge=useContextBridge,exports.useFiber=useFiber,exports.useNearestChild=useNearestChild,exports.useNearestParent=useNearestParent;